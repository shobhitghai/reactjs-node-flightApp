/*! Template 1.0.0 Shobhit Ghai 2015-12-20 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){window.app={}}).call(this),function(){app.util=function(){console.log("hello")}}(app);var d=React.createClass({displayName:"Dropdown",getInitialState:function(){return this.cityList=[],{cities:"",selectedCity:this.props.data.defaultText}},componentDidMount:function(){var a=this;$.ajax({url:a.props.data.fetchUrl,success:function(b){a.setState({cities:b})}})},citySelectionHandler:function(a){var b=$(a.target).text();this.setState({selectedCity:b})},render:function(){if(!this.cityList.length)for(var a=0;a<this.state.cities.length;a++)this.cityList.push(React.createElement("li",{key:a,onClick:this.citySelectionHandler},React.createElement("a",{href:"javascript:void(0)"},this.state.cities[a])));return React.createElement("div",{className:"dropdown"},React.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown"},this.state.selectedCity,React.createElement("span",{className:"caret"})),React.createElement("ul",{className:"dropdown-menu"},this.cityList))}}),e=React.createClass({displayName:"FilterPanel",getInitialState:function(){return this.filterSelectedProvider=[],null},handleProviderSelection:function(a){a.target.checked?this.filterSelectedProvider.push(a.target.value):this.filterSelectedProvider.splice(this.filterSelectedProvider.indexOf(a.target.value),1),console.log(this.filterSelectedProvider)},render:function(){var a=[],b=[];this.filterSelectedProvider=[];for(var c=this.props.flightProviders.length-1;c>=0;c--)-1===a.indexOf(this.props.flightProviders[c])&&a.push(this.props.flightProviders[c]);for(var c=a.length-1;c>=0;c--)b.push(React.createElement("div",{key:c,className:"checkbox"},React.createElement("label",null,React.createElement("input",{key:c,type:"checkbox",onChange:this.handleProviderSelection,value:a[c]}),a[c])));return React.createElement("div",null,b)}}),f=React.createClass({displayName:"FlightTable",render:function(){for(var a=[],b=0;b<this.props.data.length;b++)a.push(React.createElement("tr",{key:b},React.createElement("td",null,this.props.data[b].originCity+"-"+this.props.data[b].departureCity),React.createElement("td",null,this.props.data[b].provider+" "+this.props.data[b].flightNumber),React.createElement("td",null,this.props.data[b].duration+" hr"),React.createElement("td",null,this.props.data[b].originTime),React.createElement("td",null,"Rs. "+this.props.data[b].ticketPrice)));return React.createElement("table",{className:"table table-hover"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"From - To"),React.createElement("th",null,"Flight Name"),React.createElement("th",null,"Duration (hrs)"),React.createElement("th",null,"Origin Time"),React.createElement("th",null,"Price"))),React.createElement("tbody",null,a))}}),g=React.createClass({displayName:"FlightData",getInitialState:function(){return this.data={},{isData:!1}},updateTable:function(a){this.data=a},render:function(){for(var a,b=[],c=0;c<this.data.length;c++)b.push(this.data[c].provider);return this.state.isData&&(a=React.createElement("div",null,React.createElement(e,{flightProviders:b}),React.createElement(f,{data:this.data}))),React.createElement("div",null,a)}}),h=React.createClass({displayName:"BookingWindow",getInitialState:function(){return this.originCityOption={fetchUrl:"/getCityList",defaultText:"choose origin"},this.destinationCityOption={fetchUrl:"/getCityList",defaultText:"choose destination"},null},fetchFlight:function(){var a=this;$.ajax({url:"/getFlightDetails",data:{originCity:this.refs.originDD.state.selectedCity,departureCity:this.refs.destinationDD.state.selectedCity},success:function(b){var b=$.parseJSON(b);b&&(a.refs.flightTable.updateTable(b),a.refs.flightTable.setState({isData:!0}))}})},render:function(){return React.createElement("span",null,React.createElement(d,{key:"0",ref:"originDD",data:this.originCityOption}),React.createElement(d,{key:"1",ref:"destinationDD",data:this.destinationCityOption}),React.createElement("button",{className:"btn btn-primary",onClick:this.fetchFlight,type:"button"},"Submit"),React.createElement(g,{ref:"flightTable"}))}});ReactDOM.render(React.createElement(h,null),$("#wrapper")[0])},{}]},{},[1]);